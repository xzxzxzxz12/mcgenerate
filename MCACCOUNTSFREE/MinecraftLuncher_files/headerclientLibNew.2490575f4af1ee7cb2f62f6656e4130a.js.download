function throttledEvent(e,t){let o;window.addEventListener(e,()=>{o&&window.clearTimeout(o),o=window.setTimeout((function(){o=null,"function"==typeof t&&t()}),250)})}function changeToggleMobileMenuIcon(){const e=document.querySelector(".mc-globalhead__mobilecontrols-trigger"),t=e.classList.contains("mc-globalhead__mobilecontrols-trigger-active"),o=e.classList.contains("mc-globalhead__mobilecontrols-trigger-dungeons"),n=e.classList.contains("mc-globalhead__mobilecontrols-trigger-badger"),l="/content/dam/games/minecraft/logos/",a=e.children[0];t||o||n?o||n?!t&&o?a.style.content="url("+l+"hamburger-dungeons-icon.png)":o?a.style.content="url("+l+"hamburger-dungeons-closeicon.png)":!t&&n?a.style.content="url("+l+"badger-open.svg)":n&&(a.style.content="url("+l+"badger-close.svg)"):a.setAttribute("src",l+"hamburger-closeicon.png"):a.setAttribute("src",l+"hamburger-icon.png")}function buildMsaLogoutUrl(){var e,t;return window.sharedEnvConfig?(e=window.sharedEnvConfig["endpoint.msaOAuthUrl"],t=generateRedirectURL(window.sharedEnvConfig["endpoint.xboxOAuthUrl"])):(e="https://login.live.com/oauth20_logout.srf",t=generateRedirectURL("https://sisu.xboxlive.com/connect/oauth/XboxLive/")),e+"?client_id="+(window.msaUtilsConfig?window.msaUtilsConfig.xboxMSAClientId:"ca634a9a-f102-4033-b081-3a4393a6f65d")+"&redirect_uri="+t}function generateRedirectURL(e){const t=getEnvironmentParam(window.location.search);var o;if(window.sharedEnvConfig)o=encodeURIComponent(window.sharedEnvConfig["url.xboxLogoutReturnUrl"]+t);else{var n=window.location.pathname.split("/");o=window.location.origin+"/"+n[1]}return encodeURIComponent(e+"signout?"+("state=logout&ru="+o))}function getEnvironmentParam(e,t){const o=new RegExp(/\?.+/g),n=o.test(e)||o.test(t)?"&env=":"?env=";return window.msaUtilsConfig&&"undefined"!==window.msaUtilsConfig.environmentName&&""!==window.msaUtilsConfig.environmentName?n+window.msaUtilsConfig.environmentName:""}function clearCookies(e,t,o){for(index=0;index<e.length;index++)document.cookie=e[index]+"=; expires="+new Date(0).toUTCString()+"; domain="+t+"; path="+o}function clearLocalStorage(){window.localStorage.removeItem("XboxXBLToken"),window.localStorage.removeItem("PlayFabXBLToken"),window.localStorage.removeItem("MarketplaceXBLToken"),window.localStorage.removeItem("RealmsXBLToken"),window.localStorage.removeItem("LoginType"),window.localStorage.removeItem("IsNewProfileEnabled"),window.localStorage.removeItem("entitlements")}!function(){let e=document.querySelectorAll(".mc-globalhead__drop-container"),t="mc-globalhead__drop-trigger",o=document.querySelectorAll(".mc-globalhead__drop-trigger"),n="mc-globalhead__drop-nav",l=null;function a(){document.querySelectorAll(".mc-globalhead__drop-active").forEach(e=>{e.querySelector(".mc-globalhead__drop-nav").removeAttribute("style"),e.classList.remove("mc-globalhead__drop-active")})}function i(e){const o=this,i="mc-globalhead__drop-active";if(!e||window.innerWidth<=576)return!1;null!==l&&clearTimeout(l);let c=e=>{""==e.style.height?e.style.height=e.scrollHeight+"px":e.removeAttribute("style")};l=setTimeout(()=>{l=null,(()=>{switch(!0){case"keydown"==e.type&&o.classList.contains(i):27!==e.keyCode&&"Escape"!==e.key||(c(o.querySelector("."+n)),o.classList.remove(i),o.querySelector("."+t).setAttribute("aria-expanded","false"));break;case"mouseenter"==e.type&&!o.classList.contains(i):a(),c(o.querySelector("."+n)),o.classList.add(i),o.querySelector("."+t).setAttribute("aria-expanded","true");break;case"mouseleave"==e.type&&o.classList.contains(i):c(o.querySelector("."+n)),o.classList.remove(i),o.querySelector("."+t).setAttribute("aria-expanded","false");break;case"click"==e.type:let l=o.parentNode.classList.contains(i);l||a(),c(o.parentNode.querySelector("."+n)),o.parentNode.classList.toggle(i),o.setAttribute("aria-expanded",l?"false":"true");break;case"focusout"==e.type&&o.classList.contains(i):setTimeout((function(){let e=document.activeElement.closest("ul");(!e||e&&!e.classList.contains(n))&&(c(o.querySelector("."+n)),o.classList.remove(i),o.querySelector("."+t).setAttribute("aria-expanded","false"))}),1)}})()},25)}e&&e.forEach(e=>{e.addEventListener("mouseenter",i,!1),e.addEventListener("mouseleave",i,!1)}),o&&o.forEach(e=>{e.addEventListener("click",i,!1),e.parentNode.addEventListener("focusout",i,!1),e.parentNode.addEventListener("keydown",i,!1)}),window.addEventListener("click",(function(e){!e.target.classList||e.target.classList.contains("mc-globalhead__drop-trigger")||e.target.parentNode.classList.contains("mc-globalhead__drop-trigger")||a()}),!1)}(),function(){let e="mc-globalhead__navsection",t=document.querySelector("."+e),o=document.querySelector(".mc-globalhead__mobilecontrols .mc-globalhead__mobilecontrols-trigger"),n=!1,l=document.querySelector(".mc-globalhead__navsection"),a=null,i="mc-globalhead__mobilemenu-active",c=document.querySelector(".mc-globalheader__logo-link");function r(){d(!0),u(!1),n=!1,o.classList.remove("mc-globalhead__mobilecontrols-trigger-active"),o.setAttribute("aria-expanded","false"),c.setAttribute("tabindex","0"),t.classList.remove(i),changeToggleMobileMenuIcon()}function s(o){const l=this,s=t.classList.contains(i);if(!o)return!1;switch(null!==a&&clearTimeout(a),!0){case"click"==o.type:s?(d(!0),u(!1)):!s&&window.innerHeight-t.scrollHeight<0&&u(!0),n=!s,l.classList.toggle("mc-globalhead__mobilecontrols-trigger-active"),c.setAttribute("tabindex",s?"0":"-1"),l.setAttribute("aria-expanded",s?"false":"true"),t.classList.toggle(i);break;case"focusout"==o.type&&s:case"keydown"==o.type&&s:"keydown"!=o.type||27!==o.keyCode&&"Escape"!==o.key?"focusout"==o.type&&setTimeout((function(){let t=document.activeElement.closest("section");(!t||t&&!t.classList.contains(e))&&r()}),1):(r(),document.querySelector(".mc-globalhead__mobilecontrols-trigger").focus())}document.querySelector(".mc-button__primary-link-badger").addEventListener("click",(function(){r(),document.querySelector(".email").focus()}))}function d(e){e?l.classList.remove("mc-globalhead__mobilemenu-animation-complete"):!e&&l.classList.contains(i)&&l.classList.add("mc-globalhead__mobilemenu-animation-complete")}function u(e){let o=document.querySelector(".mc-globalhead"),n=document.querySelector(".mc-globalhead__mobilecontrols"),l=document.querySelector(".mc-globalhead__navcontainer-sticky"),a=l?window.innerHeight-n.offsetHeight:window.innerHeight-o.offsetHeight,i=()=>{t.removeAttribute("style"),t.classList.remove("mc-globalhead__navsection-scrollable")};if(window.innerWidth>768)return i(),!1;e&&a>0?(t.setAttribute("style","max-height:"+a+"px"),t.classList.add("mc-globalhead__navsection-scrollable")):e||i()}o&&(o.addEventListener("click",s,!1),l.addEventListener("focusout",s,!1),l.parentNode.addEventListener("keydown",s,!1),l.addEventListener("transitionend",(function(){a=setTimeout(()=>{a=null,d()},25)}),!1),throttledEvent("resize",()=>{n&&u(!0)}),throttledEvent("scroll",()=>{n&&u(!0)}))}(),function(e){const t=e("#mc-globalhead__drop-button-1");let o=document.querySelector(".mc-globalhead__navcontainer"),n=o.querySelector(".mc-globalhead__navsection"),l=o.offsetHeight,a=!1;function i(){let e=document.querySelector(".mc-globalhead__stickyplaceholder"),t=e?e.getBoundingClientRect():null,o="mc-globalhead__navcontainer-sticky";t&&t.top<=0&&!a?e.classList.add(o):(t&&t.top>0&&e.classList.contains(o)||a)&&e.classList.remove(o)}if(l&&l>0){let e=document.createElement("div");e.classList.add("mc-globalhead__stickyplaceholder"),o.before(e)}function c(){setTimeout((function(){let o=e(window).width(),n=e(window).scrollTop(),l=0;o<=576?l=-1:o>=577&&o<=992?l=n>50?-1:0:o>993&&(l=0),t.attr("tabindex",l)}),100)}window.addEventListener("scroll",i),throttledEvent("resize",()=>{!function(){let e=o.offsetHeight/window.innerHeight*100>=30,t=n.classList.contains("mc-globalhead__mobilemenu-active");o&&e&&!t?(a=!0,i()):a&&!e&&(a=!1,i())}()}),e(".mc-globalhead__drop-container").on("click",(function(){let e=t.attr("aria-haspopup");t.attr("aria-haspopup","false"===e)})),e(window).scroll((function(){const t=e("#mc-globalhead__primaryheader");e(this).scrollTop()>50?t.addClass("mc-globalhead__secondry ").removeClass("mc-globalhead__primary"):t.removeClass("mc-globalhead__secondry").addClass("mc-globalhead__primary"),c()})),e(".mc-button__primary.mc-button__badger").click((function(){e("#email").focus()})),window.addEventListener("orientationchange",()=>{c()}),e(".mc-globalhead__mobilecontrols-trigger").click((function(){changeToggleMobileMenuIcon()}))}(window.jQuery),function(e){let t=function(e){let t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}("session_username");const o=e(".mc-globalhead__nav-login-dropdown"),n=e(".mc-globalhead__nav-login");t?(e("#mc-globalhead__nav-login-button-1").attr("aria-label",t).children(".mc-globalhead__drop-trigger-text").append(t),e("#mc-globalhead__nav-login-button-2").attr("aria-label",t).children(".mc-globalhead__drop-trigger-text").append(t),o.css({display:"block"}),n.css({display:"none"})):(o.css({display:"none"}),n.css({display:"block"}))}(window.jQuery),document.querySelectorAll(".mc-globalhead__logout").forEach(e=>{e.addEventListener("click",e=>{if(e.preventDefault(),window.sessionStorage.clear(),clearCookies(["access_token","bearer_token","session_username","hasMcJavaEntitlement"],".minecraft.net","/"),"MSA"==window.localStorage.getItem("LoginType")){const e=buildMsaLogoutUrl();clearLocalStorage(),window.location.href=e}else clearLocalStorage(),window.location.href="/"})}),document.querySelectorAll(".mc-globalhead__profile-link, #mc-globalfooter__profile-link-1, #mc-globalfooter__profile-link-2").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=window.localStorage.getItem("IsNewProfileEnabled"),o=window.localStorage.getItem("LoginType");window.location.href=t&&o&&"true"===t&&"MSA"===o?"/msaprofile":"/profile"})});